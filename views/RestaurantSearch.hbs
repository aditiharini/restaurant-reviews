<html>
    <head>
        <!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<meta charset="utf-8"> 
    </head>
    
    <body>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <label><input type = "text" id = "search" value = "Search for Restaurants..." oninput = "search()"></input></label>
        <table id="results" style="width:50%">
		    <thead>
			<tr>
				<th></th>
				<th></th>
			</tr>
			</thead>
			<tbody id = "result">
				<tr></tr>
			</tbody>
		</table>
        <script>
            function search() {
                $.ajax({
                    type: 'POST', 
                    url: '/search', 
                    data: {
                        name: $('#search').val(),
                    }
                    dataType: 'json', 
                    success: function(data) {
                        $("#result tbody").empty();
				        var restaurants = data.data; 
				        restaurants.forEach(function(restaurant) {
    					    var $trHTML = $('<tr><td>'  + JSON.stringify(restaurant.restaurant) + '</td><td>' + JSON.stringify(restaurant.location.state) + '     ' + JSON.stringify(restaurant.location.city) + '</td></tr>' 
    					    + '<br>'+ '<tr><td' + JSON.stringify(restaurant.content) + '</td><td>' + JSON.stringify(restaurant.rating) + '</td></tr>'
    					    + '<br>' + '<tr><td>' + JSON.stringify(restaurant.author) + '</td></tr>');
    					    $("#result tbody").append($trHTML); 

				        });
                    }
                });  
            }
            
        </script>
    </body>
    
    
</html>